<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <style media="screen">
    #firework{
      background-image: linear-gradient(to bottom, #000000, #000840);
      grid-area: 1 / 3 / 3 / 4;
    }
    #myNintendo{
      background-image: url(res/myNintendo.png);
      background-color: #E60012;
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
    }
    @media screen and (max-aspect-ratio: 1/1) {
      #firework{
        background-image: linear-gradient(to bottom, #000000, #000840);
        grid-area: 1 / 3 / 2 / 5;
      }
    }
  </style>
  <link rel="stylesheet" href="res/fireworks.css">
  <link rel="stylesheet" href="res/grid.css">
  <link rel="stylesheet" href="res/FullScreenNotification.css">
</head>
<body>
  <div id="background"></div>
  <div class="wrapper">
    <div id="firework" class="grid" onClick="window.open('res/fireworks.html','_self')"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div id="myNintendo" class="grid" onClick="window.open('https://my.nintendo.com/','_self')">
      <div id="myNintendoRedBg" class="gridAnimation" style="background-color:#E60012; opacity:0; width:100%; height:100%"></div>
      <img id="myNintendoRollingPoint" class="gridAnimation" src="res/myNintendoPlatiumPointFlat.png" style="display: block; height:50%; bottom: 1vh; left: -20vh">
      <img id="myNintendoFallingPointSlow" class="gridAnimation" src="res/myNintendoFallingPointSlow.png" style="display: block; max-height: 420%; min-width: 100%; max-width: 200%; top: -100vh">
      <img id="myNintendoFallingPointFast" class="gridAnimation" src="res/myNintendoFallingPointFast.png" style="display: block; max-height: 540%; min-width: 100%; max-width: 210%; top: -100vh">
      <img id="myNintendoMiiBack" class="gridAnimation" src="res/myNintendoMiiBack.png" style="display: block; max-height:70%;min-width: 100%; max-width: 150%; bottom: -20vh">
      <img id="myNintendoMiiFront" class="gridAnimation" src="res/myNintendoMiiFront.png" style="display: block; max-height:70%; min-width: 100%; max-width: 150%; bottom: -20vh">
    </div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
    <div class="grid empty"></div>
  </div>
</body>
<script src="res/fireworks.js" type="text/javascript"></script>
<script src="res/FullScreenNotification.js" type="text/javascript"></script>
<script src="res/myNintendoAnimation.js" type="text/javascript"></script>
<script src="res/backgroundAnimation.js" type="text/javascript"></script>
<script type="text/javascript">
  Array.from(document.getElementsByClassName("empty")).forEach(function(element){
    element.onclick = function(){
      fullScreenNotification("发生了连接错误。","与HEXA主框架的连接被拒绝：\nERR_INVALID_USERNAME at AUTH: Vega_WireWeaver\n请检查AURA信号或您所使用的登陆凭证。\n凭证可能已删除或不再受信任。\n这句话只是用来占据宽度的。\n这句话也是。\n哼哼啊啊啊啊啊啊啊啊啊。\n114514\n1919810\n趴地上转三圈\n追尾了黑色高级车\n那么只有红茶可以吗？\n我们遇到了他[脏话删除]的故障！\n检查无误后请重试连接。")
    }
  });
  let view = document.getElementById("firework");
  function autoFireworks(){
    let radius = (Math.random() + 2) * ((window.innerHeight < window.innerWidth) ? window.innerHeight : window.innerWidth) * 0.06;
    fireworksClassic(view, null, null, radius);
    setTimeout("autoFireworks()",Math.random() * 240 + 720);
  }
  function autoBackgroundAnimation(){
    backgroundWave(document.getElementById("background"));
    setTimeout("autoBackgroundAnimation()",Math.random() * 500 +4500);
  }
  function autoGridAnimation(){
    Array.from(document.getElementsByClassName("gridAnimation")).forEach(function(grid){Array.from(grid.getAnimations()).forEach(function(node){node.play();});});
    setTimeout("autoGridAnimation()",16000);
  }
  myNintendoAnimation();
  autoGridAnimation();
  autoBackgroundAnimation();
  autoFireworks();
</script>
