<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <style media="screen">
    #firework{
      background-image: linear-gradient(to bottom, #000000, #000840);
    }
    #myNintendo{
      background-image: url(res/myNintendo.png);
      background-color: #E60012;
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
    }
    #github{
      background-image: url(res/github.svg);
      background-color: #28282B;
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
    }
    .grid{
      clip-path: url(#clip);
    }
    .gridInner{
      clip-path: url(#clip);
      margin: 0.98% 1.1%;
      width: 97.8%;
      height: 96.25%;
      background-color: #000840;
      background-image: linear-gradient(320deg, #1CA3E2, #25A6A6, #23D290);
    }
  </style>
  <link rel="stylesheet" href="res/fireworks.css">
  <link rel="stylesheet" href="res/grid.css">
</head>
<body>
  <svg style="position:absolute; z-index: -1; display:hidden">
    <defs>
      <clipPath id="clip" clipPathUnits="objectBoundingBox">
         <path d="
         m 0.5,0 
         C 0.6,0 0.87,0 0.94,0.014
         C 1,0.026 1,0.13 1,0.5 
         C 1,0.87 1,0.974 0.94,0.986 
         C 0.87,1 0.6,1 0.5,1 
         C 0.4,1 0.13,1 0.06,0.986 
         C 0,0.974 0,0.87 0,0.5 
         C 0,0.13 0,0.026 0.06,0.014 
         C 0.13,0 0.4,0 0.5,0 
         Z"/>
      </clipPath>
    </defs>
  </svg>
  <div id="viewbox">
    <div id="background">
      <div id="wrapper">
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid" openURL="res/fireworks.html"><div id="firework" class="gridInner"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid"><div class="gridInner empty"></div></div>
          <div class="grid" openURL="https://my.nintendo.com/" onclick="clickExtend(this)">
            <div id="myNintendo" class="gridInner">
              <div id="myNintendoRedBg" class="gridAnimation" style="background-color:#E60012; opacity:0; width:100%; height:100%"></div>
              <img id="myNintendoRollingPoint" class="gridAnimation" src="res/myNintendoPlatiumPointFlat.png" style="display: block; height:50%; bottom: 1vh; left: -20vh">
              <img id="myNintendoFallingPointSlow" class="gridAnimation" src="res/myNintendoFallingPointSlow.png" style="display: block; max-height: 420%; min-width: 100%; max-width: 200%; top: -120vh">
              <img id="myNintendoFallingPointFast" class="gridAnimation" src="res/myNintendoFallingPointFast.png" style="display: block; max-height: 540%; min-width: 100%; max-width: 210%; top: -120vh">
              <img id="myNintendoMiiBack" class="gridAnimation" src="res/myNintendoMiiBack.png" style="display: block; max-height:70%;min-width: 100%; max-width: 150%; bottom: -20vh">
              <img id="myNintendoMiiFront" class="gridAnimation" src="res/myNintendoMiiFront.png" style="display: block; max-height:70%; min-width: 100%; max-width: 150%; bottom: -20vh">
            </div>
        </div>
        <div class="grid"><div class="gridInner empty"></div></div>
        <div class="grid" openURL="https://github.com/MarkussLugia/MarkussLugia.github.io"><div id="github" class="gridInner"></div></div>
      </div>
      <p class="time" id="hour">02</p>
      <p class="time" id="colon">:</p>
      <p class="time" id="minute">49</p>
    </div>
  </div>
</body>
<script src="res/fireworks.js" type="text/javascript"></script>
<script src="res/myNintendoAnimation.js" type="text/javascript"></script>
<script src="res/clickExtend.js" type="text/javascript"></script>
<script src="res/clockAnimation.js" type="text/javascript"></script>
<script type="text/javascript">
  let view = document.getElementById("firework");
  let viewbox = document.getElementById("viewbox");
  let background = document.getElementById("background");
  function gridOnClickHandler(element) {
    clickExtend(element, background, viewbox);
    document.getElementById("background").style.backgroundColor = wrapper.getAttribute("extended") == "True" ? "black" : "white";
    if (element.getAttribute("openURL") != null) {
      window.open(element.getAttribute("openURL"),'_self')
    }
  }
  Array.from(document.getElementsByClassName("grid")).forEach(function(element){
    element.onclick = function(){
      gridOnClickHandler(element)
    }
  });
  
  function autoFireworks(){
    let radius = (Math.random() + 2) * ((window.innerHeight < window.innerWidth) ? window.innerHeight : window.innerWidth) * 0.06;
    fireworksClassic(view, null, null, radius);
    setTimeout("autoFireworks()",Math.random() * 240 + 720);
  }
  function autoGridAnimation(){
    Array.from(document.getElementsByClassName("gridAnimation")).forEach(function(grid){Array.from(grid.getAnimations()).forEach(function(node){node.play();});});
    setTimeout("autoGridAnimation()",16000);
  }
  myNintendoAnimation();
  autoGridAnimation();
  autoFireworks();
  syncTime(document.getElementById("hour"),document.getElementById("minute"));
  tickAnimation(document.getElementById("colon"))
</script>
