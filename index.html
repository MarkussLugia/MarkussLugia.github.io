<!DOCTYPE html>
<head>
  <meta name="Fireworks" http-equiv="Content-Type" content="text/html; charset=utf-8">
  <style media="screen">
   @keyframes dotPosition{
      from {top: 140px;}
      to {top:0px;}
    }
   @keyframes dotBlur{
      0% {opacity: 1; filter: blur(0px);}
      50% {opacity: 0.8; filter: blur(0px);}
      100% {opacity: 0; filter: blur(10px);}
    }
    @keyframes dotLength {
      0%{ height: 10px;}
      20%{ height: 40px;}
      100%{ height: 0px;}
    }
    @keyframes centerBlow {
      from {width:10px; height:10px; border-radius: 10px; border-width: 10px; opacity: 1; filter: blur(0px); transform: translate(0px,0px);}
      to {width:80px; height:80px; border-radius: 40px; border-width: 30px; opacity: 0; filter: blur(20px); transform: translate(-35px,-35px);}
    }
    body{
      background-image: linear-gradient(to bottom, #000000, #000840);
      height: 100%;
      margin: 0;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    .frame{
      width: 40px;
      height: 150px;
      position: fixed;
      transform-origin: 20px 140px;
    }
    .dot{
      position: relative;
      animation: dotPosition 1.5s ease-out forwards, dotBlur 1.5s linear forwards, dotLength 1.5s ease-in-out forwards;
    }
    .core{
      position: fixed;
      box-sizing: border-box;
      border-style: solid;
      animation: centerBlow 0.8s ease-out forwards;
    }
  </style>
</head>
<body id="body" onclick="fireworkClassic()">
</body>
<script type="text/javascript">
  let vpw = window.innerWidth;
  let vph = window.innerHeight;
  let body = document.getElementById("body");
  let nodes = body.childNodes;
  let node;
  window.addEventListener("resize", windowResize, false);
  function windowResize() {
    vpw = window.innerWidth;
    vph = window.innerHeight;
  }
  function fireworkClassic(x, y) {
    this.x  = (typeof x !== 'undefined') ?  this.x : Math.random() * vpw;
    this.y  = (typeof y !== 'undefined') ?  this.y : Math.random() * vph;
    this.sectionCount = Math.floor(Math.random() * 7) + 6;
    this.sectionAngle = 360 / this.sectionCount;
    this.offsetAngle = Math.random() * 360;
    this.dotWidth = Math.random() * 20 + 5;
    this.red = Math.random() * 230 + 25;
    this.blue = Math.random() * 230 + 25;
    this.green = Math.random() * 230 + 25;
    nodes.forEach(function(node){
      if (node.tagName == "DIV") {
        clean(node);
      }
    });
    let frame;
    let dot;
    let core = document.createElement("DIV");
    core.setAttribute("birth", Date.now());
    core.className = "core";
    core.style.borderColor = "rgb(" + (this.red + 30) + "," + (this.blue + 30) + "," + (this.green + 30) + ")";
    core.style.left = (this.x - 5) + "px";
    core.style.top = (this.y - 5) + "px";
    body.appendChild(core);
    for (let i = 0; i < this.sectionCount; i++) {
      frame = document.createElement("DIV");
      frame.setAttribute("birth", Date.now());
      frame.className = "frame";
      frame.style.left = (this.x - 20) + "px";
      frame.style.top = (this.y - 140) + "px";
      frame.style.transform = "rotate(" + (this.sectionAngle * i + this.offsetAngle) + "deg)";
      dot = document.createElement("DIV");
      dot.className = "dot";
      dot.style.width = this.dotWidth + "px";
      dot.style.left = 20 - this.dotWidth / 2 + "px";
      dot.style.borderRadius = Math.random() * this.dotWidth + "px " + Math.random() * this.dotWidth + "px " + Math.random() * this.dotWidth + "px " + Math.random() * this.dotWidth + "px";
      dot.style.backgroundColor = "rgb(" + this.red + "," + this.blue + "," + this.green + ")";
      frame.appendChild(dot);
      body.appendChild(frame);
    }
  }
  function clean(node){
    if (Date.now() - parseInt(node.getAttribute("birth")) > 2000) {
      body.removeChild(node);
    }
  }
  auto = setInterval(fireworkClassic, 100)
</script>
